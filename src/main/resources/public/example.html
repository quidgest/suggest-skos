<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Autocomplete example</title>
<link rel="stylesheet" href="ui-lightness/jquery-ui-1.8.22.custom.css"
	type="text/css" media="all" />
<script src="jquery-1.7.2.min.js"></script>
<script src="jquery-ui-1.8.22.custom.min.js"></script>
<script>
	function split(val) {
		return val.split(/\s+/);
	}
	function extractLast(term) {
		return split(term).pop();
	}
	$(function() {
		$("#search-input").keydown(
				function(event) {
					if (event.keyCode === $.ui.keyCode.TAB
							&& $(this).data("autocomplete").menu.active) {
						event.preventDefault();
					}
				});

		$("#search-input").autocomplete({
			source : function(request, response) {
				$.getJSON('http://localhost:8080/suggest-skos', {
					term : extractLast(request.term)
				}, response);
			},
			minLength : 1,
			delay : 140,
			focus : function() {
				// prevent value inserted on focus
				return false;
			},
			select : function(event, ui) {
				var terms = this.value.split(/\s+/);
				terms.pop(); // remove dropdown item
				terms.push(ui.item.value.trim()); // add completed item
				this.value = terms.join(" ") + " ";
				return false;
			},
		});
	});
</script>
</head>
<body>
	<input id="search-input" name="query" placeholder="Search..."
		type="text" />
</body>
</html>